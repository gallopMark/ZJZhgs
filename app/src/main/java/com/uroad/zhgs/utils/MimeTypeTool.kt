package com.uroad.zhgs.utils

import java.io.File
import java.net.URL

/**
 * @author MFB
 * @create 2018/10/25
 * @describe 获取文件mimeType
 */
object MimeTypeTool {
    val map = HashMap<String, String>().apply {
        put("3dm", "x-world/x-3dmf")
        put("3dmf", "x-world/x-3dmf")
        put("a", "application/octet-stream")
        put("aab", "application/x-authorware-bin")
        put("aam", "application/x-authorware-map")
        put("aas", "application/x-authorware-seg")
        put("abc", "text/vndabc")
        put("acgi", "text/html")
        put("afl", "video/animaflex")
        put("ai", "application/postscript")
        put("aif", "audio/aiff")
        put("aif", "audio/x-aiff")
        put("aifc", "audio/aiff")
        put("aifc", "audio/x-aiff")
        put("aiff", "audio/aiff")
        put("aiff", "audio/x-aiff")
        put("aim", "application/x-aim")
        put("aip", "text/x-audiosoft-intra")
        put("ani", "application/x-navi-animation")
        put("aos", "application/x-nokia-9000-communicator-add-on-software")
        put("aps", "application/mime")
        put("arc", "application/octet-stream")
        put("arj", "application/arj")
        put("arj", "application/octet-stream")
        put("art", "image/x-jg")
        put("asf", "video/x-ms-asf")
        put("asm", "text/x-asm")
        put("asp", "text/asp")
        put("asx", "application/x-mplayer2")
        put("asx", "video/x-ms-asf")
        put("asx", "video/x-ms-asf-plugin")
        put("au", "audio/basic")
        put("au", "audio/x-au")
        put("avi", "application/x-troff-msvideo")
        put("avi", "video/avi")
        put("avi", "video/msvideo")
        put("avi", "video/x-msvideo")
        put("avs", "video/avs-video")
        put("bcpio", "application/x-bcpio")
        put("bin", "application/mac-binary")
        put("bin", "application/macbinary")
        put("bin", "application/octet-stream")
        put("bin", "application/x-binary")
        put("bin", "application/x-macbinary")
        put("bm", "image/bmp")
        put("bmp", "image/bmp")
        put("bmp", "image/x-windows-bmp")
        put("boo", "application/book")
        put("book", "application/book")
        put("boz", "application/x-bzip2")
        put("bsh", "application/x-bsh")
        put("bz", "application/x-bzip")
        put("bz2", "application/x-bzip2")
        put("c", "text/plain")
        put("c", "text/x-c")
        put("c++", "text/plain")
        put("cat", "application/vndms-pkiseccat")
        put("cc", "text/plain")
        put("cc", "text/x-c")
        put("ccad", "application/clariscad")
        put("cco", "application/x-cocoa")
        put("cdf", "application/cdf")
        put("cdf", "application/x-cdf")
        put("cdf", "application/x-netcdf")
        put("cer", "application/pkix-cert")
        put("cer", "application/x-x509-ca-cert")
        put("cha", "application/x-chat")
        put("chat", "application/x-chat")
        put("class", "application/java")
        put("class", "application/java-byte-code")
        put("class", "application/x-java-class")
        put("com", "application/octet-stream")
        put("com", "text/plain")
        put("conf", "text/plain")
        put("cpio", "application/x-cpio")
        put("cpp", "text/x-c")
        put("cpt", "application/mac-compactpro")
        put("cpt", "application/x-compactpro")
        put("cpt", "application/x-cpt")
        put("crl", "application/pkcs-crl")
        put("crl", "application/pkix-crl")
        put("crt", "application/pkix-cert")
        put("crt", "application/x-x509-ca-cert")
        put("crt", "application/x-x509-user-cert")
        put("csh", "application/x-csh")
        put("csh", "text/x-scriptcsh")
        put("css", "application/x-pointplus")
        put("css", "text/css")
        put("cxx", "text/plain")
        put("dcr", "application/x-director")
        put("deepv", "application/x-deepv")
        put("def", "text/plain")
        put("der", "application/x-x509-ca-cert")
        put("dif", "video/x-dv")
        put("dir", "application/x-director")
        put("dl", "video/dl")
        put("dl", "video/x-dl")
        put("doc", "application/msword")
        put("dot", "application/msword")
        put("dp", "application/commonground")
        put("drw", "application/drafting")
        put("dump", "application/octet-stream")
        put("dv", "video/x-dv")
        put("dvi", "application/x-dvi")
        put("dwf", "drawing/x-dwf (old)")
        put("dwf", "model/vnddwf")
        put("dwg", "application/acad")
        put("dwg", "image/vnddwg")
        put("dwg", "image/x-dwg")
        put("dxf", "application/dxf")
        put("dxf", "image/vnddwg")
        put("dxf", "image/x-dwg")
        put("dxr", "application/x-director")
        put("el", "text/x-scriptelisp")
        put("elc", "application/x-bytecodeelisp (compiled elisp)")
        put("elc", "application/x-elc")
        put("env", "application/x-envoy")
        put("eps", "application/postscript")
        put("es", "application/x-esrehber")
        put("etx", "text/x-setext")
        put("evy", "application/envoy")
        put("evy", "application/x-envoy")
        put("exe", "application/octet-stream")
        put("f", "text/plain")
        put("f", "text/x-fortran")
        put("f77", "text/x-fortran")
        put("f90", "text/plain")
        put("f90", "text/x-fortran")
        put("fdf", "application/vndfdf")
        put("fif", "application/fractals")
        put("fif", "image/fif")
        put("fli", "video/fli")
        put("fli", "video/x-fli")
        put("flo", "image/florian")
        put("flv", "video/x-flv")
        put("flx", "text/vndfmiflexstor")
        put("fmf", "video/x-atomic3d-feature")
        put("for", "text/plain")
        put("for", "text/x-fortran")
        put("fpx", "image/vndfpx")
        put("fpx", "image/vndnet-fpx")
        put("frl", "application/freeloader")
        put("funk", "audio/make")
        put("g", "text/plain")
        put("g3", "image/g3fax")
        put("gif", "image/gif")
        put("gl", "video/gl")
        put("gl", "video/x-gl")
        put("gsd", "audio/x-gsm")
        put("gsm", "audio/x-gsm")
        put("gsp", "application/x-gsp")
        put("gss", "application/x-gss")
        put("gtar", "application/x-gtar")
        put("gz", "application/x-compressed")
        put("gz", "application/x-gzip")
        put("gzip", "application/x-gzip")
        put("gzip", "multipart/x-gzip")
        put("h", "text/plain")
        put("h", "text/x-h")
        put("hdf", "application/x-hdf")
        put("help", "application/x-helpfile")
        put("hgl", "application/vndhp-hpgl")
        put("hh", "text/plain")
        put("hh", "text/x-h")
        put("hlb", "text/x-script")
        put("hlp", "application/hlp")
        put("hlp", "application/x-helpfile")
        put("hlp", "application/x-winhelp")
        put("hpg", "application/vndhp-hpgl")
        put("hpgl", "application/vndhp-hpgl")
        put("hqx", "application/binhex")
        put("hqx", "application/binhex4")
        put("hqx", "application/mac-binhex")
        put("hqx", "application/mac-binhex40")
        put("hqx", "application/x-binhex40")
        put("hqx", "application/x-mac-binhex40")
        put("hta", "application/hta")
        put("htc", "text/x-component")
        put("htm", "text/html")
        put("html", "text/html")
        put("htmls", "text/html")
        put("htt", "text/webviewhtml")
        put("htx", "text/html")
        put("ice", "x-conference/x-cooltalk")
        put("ico", "image/x-icon")
        put("idc", "text/plain")
        put("ief", "image/ief")
        put("iefs", "image/ief")
        put("iges", "application/iges")
        put("iges", "model/iges")
        put("igs", "application/iges")
        put("igs", "model/iges")
        put("ima", "application/x-ima")
        put("imap", "application/x-httpd-imap")
        put("inf", "application/inf")
        put("ins", "application/x-internett-signup")
        put("ip", "application/x-ip2")
        put("isu", "video/x-isvideo")
        put("it", "audio/it")
        put("iv", "application/x-inventor")
        put("ivr", "i-world/i-vrml")
        put("ivy", "application/x-livescreen")
        put("jam", "audio/x-jam")
        put("jav", "text/plain")
        put("jav", "text/x-java-source")
        put("java", "text/plain")
        put("java", "text/x-java-source")
        put("jcm", "application/x-java-commerce")
        put("jfif", "image/jpeg")
        put("jfif", "image/pjpeg")
        put("jfif-tbnl", "image/jpeg")
        put("jpe", "image/jpeg")
        put("jpe", "image/pjpeg")
        put("jpeg", "image/jpeg")
        put("jpeg", "image/pjpeg")
        put("jpg", "image/jpeg")
        put("jpg", "image/pjpeg")
        put("jps", "image/x-jps")
        put("js", "application/x-javascript")
        put("jut", "image/jutvision")
        put("kar", "audio/midi")
        put("kar", "music/x-karaoke")
        put("ksh", "application/x-ksh")
        put("ksh", "text/x-scriptksh")
        put("la", "audio/nspaudio")
        put("la", "audio/x-nspaudio")
        put("lam", "audio/x-liveaudio")
        put("latex", "application/x-latex")
        put("lha", "application/lha")
        put("lha", "application/octet-stream")
        put("lha", "application/x-lha")
        put("lhx", "application/octet-stream")
        put("list", "text/plain")
        put("lma", "audio/nspaudio")
        put("lma", "audio/x-nspaudio")
        put("log", "text/plain")
        put("lsp", "application/x-lisp")
        put("lsp", "text/x-scriptlisp")
        put("lst", "text/plain")
        put("lsx", "text/x-la-asf")
        put("ltx", "application/x-latex")
        put("lzh", "application/octet-stream")
        put("lzh", "application/x-lzh")
        put("lzx", "application/lzx")
        put("lzx", "application/octet-stream")
        put("lzx", "application/x-lzx")
        put("m", "text/plain")
        put("m", "text/x-m")
        put("m1v", "video/mpeg")
        put("m2a", "audio/mpeg")
        put("m2v", "video/mpeg")
        put("m3u", "audio/x-mpequrl")
        put("man", "application/x-troff-man")
        put("map", "application/x-navimap")
        put("mar", "text/plain")
        put("mbd", "application/mbedlet")
        put("mc$", "application/x-magic-cap-package-10")
        put("mcd", "application/mcad")
        put("mcf", "image/vasa")
        put("mcf", "text/mcf")
        put("mcp", "application/netmc")
        put("me", "application/x-troff-me")
        put("mht", "message/rfc822")
        put("mhtml", "message/rfc822")
        put("midi", "audio/midi")
        put("midi", "music/crescendo")
        put("midi", "x-music/x-midi")
        put("mif", "application/x-frame")
        put("mif", "application/x-mif")
        put("mime", "message/rfc822")
        put("mime", "www/mime")
        put("mjf", "audio/x-vndaudioexplosionmjuicemediafile")
        put("mjpg", "video/x-motion-jpeg")
        put("mkv", "video/x-matroska")
        put("mka", "audio/x-matroska")
        put("mm", "application/x-meme")
        put("mme", "application/base64")
        put("mod", "audio/mod")
        put("moov", "video/quicktime")
        put("mov", "video/quicktime")
        put("movie", "video/x-sgi-movie")
        put("mp2", "audio/mpeg")
        put("mp3", "audio/mp3")
        put("mp4", "video/mp4")
        put("mpa", "audio/mpeg")
        put("mpa", "video/mpeg")
        put("mpc", "application/x-project")
        put("mpe", "video/mpeg")
        put("mpeg", "video/mpeg")
        put("mpg", "audio/mpeg")
        put("mpg", "video/mpeg")
        put("mpga", "audio/mpeg")
        put("mpp", "application/vndms-project")
        put("mpt", "application/x-project")
        put("mpv", "application/x-project")
        put("mpx", "application/x-project")
        put("mrc", "application/marc")
        put("ms", "application/x-troff-ms")
        put("mv", "video/x-sgi-movie")
        put("my", "audio/make")
        put("mzz", "application/x-vndaudioexplosionmzz")
        put("nap", "image/naplps")
        put("naplps", "image/naplps")
        put("nc", "application/x-netcdf")
        put("ncm", "application/vndnokiaconfiguration-message")
        put("nif", "image/x-niff")
        put("niff", "image/x-niff")
        put("nix", "application/x-mix-transfer")
        put("nsc", "application/x-conference")
        put("nvd", "application/x-navidoc")
        put("o", "application/octet-stream")
        put("oda", "application/oda")
        put("omc", "application/x-omc")
        put("omcd", "application/x-omcdatamaker")
        put("omcr", "application/x-omcregerator")
        put("p", "text/x-pascal")
        put("p10", "application/pkcs10")
        put("p10", "application/x-pkcs10")
        put("p12", "application/pkcs-12")
        put("p12", "application/x-pkcs12")
        put("p7a", "application/x-pkcs7-signature")
        put("p7c", "application/pkcs7-mime")
        put("p7c", "application/x-pkcs7-mime")
        put("p7m", "application/pkcs7-mime")
        put("p7m", "application/x-pkcs7-mime")
        put("p7r", "application/x-pkcs7-certreqresp")
        put("p7s", "application/pkcs7-signature")
        put("part", "application/pro_eng")
        put("pas", "text/pascal")
        put("pbm", "image/x-portable-bitmap")
        put("pcl", "application/vndhp-pcl")
        put("pcl", "application/x-pcl")
        put("pct", "image/x-pict")
        put("pcx", "image/x-pcx")
        put("pdb", "chemical/x-pdb")
        put("pdf", "application/pdf")
        put("pfunk", "audio/make")
        put("pfunk", "audio/makemyfunk")
        put("pgm", "image/x-portable-graymap")
        put("pgm", "image/x-portable-greymap")
        put("pic", "image/pict")
        put("pict", "image/pict")
        put("pkg", "application/x-newton-compatible-pkg")
        put("pko", "application/vndms-pkipko")
        put("pl", "text/plain")
        put("pl", "text/x-scriptperl")
        put("plx", "application/x-pixclscript")
        put("pm", "image/x-xpixmap")
        put("pm", "text/x-scriptperl-module")
        put("pm4", "application/x-pagemaker")
        put("pm5", "application/x-pagemaker")
        put("png", "image/png")
        put("pnm", "application/x-portable-anymap")
        put("pnm", "image/x-portable-anymap")
        put("pot", "application/mspowerpoint")
        put("pot", "application/vndms-powerpoint")
        put("pov", "model/x-pov")
        put("ppa", "application/vndms-powerpoint")
        put("ppm", "image/x-portable-pixmap")
        put("pps", "application/mspowerpoint")
        put("pps", "application/vndms-powerpoint")
        put("ppt", "application/mspowerpoint")
        put("ppt", "application/powerpoint")
        put("ppt", "application/vndms-powerpoint")
        put("ppt", "application/x-mspowerpoint")
        put("ppz", "application/mspowerpoint")
        put("pre", "application/x-freelance")
        put("prt", "application/pro_eng")
        put("ps", "application/postscript")
        put("psd", "application/octet-stream")
        put("pvu", "paleovu/x-pv")
        put("pwz", "application/vndms-powerpoint")
        put("py", "text/x-scriptphyton")
        put("pyc", "applicaiton/x-bytecodepython")
        put("qcp", "audio/vndqcelp")
        put("qd3", "x-world/x-3dmf")
        put("qd3d", "x-world/x-3dmf")
        put("qif", "image/x-quicktime")
        put("qt", "video/quicktime")
        put("qtc", "video/x-qtc")
        put("qti", "image/x-quicktime")
        put("qtif", "image/x-quicktime")
        put("ra", "audio/x-pn-realaudio")
        put("ra", "audio/x-pn-realaudio-plugin")
        put("ra", "audio/x-realaudio")
        put("ram", "audio/x-pn-realaudio")
        put("ras", "application/x-cmu-raster")
        put("ras", "image/cmu-raster")
        put("ras", "image/x-cmu-raster")
        put("rast", "image/cmu-raster")
        put("rexx", "text/x-scriptrexx")
        put("rf", "image/vndrn-realflash")
        put("rgb", "image/x-rgb")
        put("rm", "application/vndrn-realmedia")
        put("rm", "audio/x-pn-realaudio")
        put("rmi", "audio/mid")
        put("rmm", "audio/x-pn-realaudio")
        put("rmp", "audio/x-pn-realaudio")
        put("rmp", "audio/x-pn-realaudio-plugin")
        put("rng", "application/ringing-tones")
        put("rng", "application/vndnokiaringing-tone")
        put("rnx", "application/vndrn-realplayer")
        put("roff", "application/x-troff")
        put("rp", "image/vndrn-realpix")
        put("rpm", "audio/x-pn-realaudio-plugin")
        put("rt", "text/richtext")
        put("rt", "text/vndrn-realtext")
        put("rtf", "application/rtf")
        put("rtf", "application/x-rtf")
        put("rtf", "text/richtext")
        put("rtx", "application/rtf")
        put("rtx", "text/richtext")
        put("rv", "video/vndrn-realvideo")
        put("s", "text/x-asm")
        put("s3m", "audio/s3m")
        put("saveme", "application/octet-stream")
        put("sbk", "application/x-tbook")
        put("scm", "application/x-lotusscreencam")
        put("scm", "text/x-scriptguile")
        put("scm", "text/x-scriptscheme")
        put("scm", "video/x-scm")
        put("sdml", "text/plain")
        put("sdp", "application/sdp")
        put("sdp", "application/x-sdp")
        put("sdr", "application/sounder")
        put("sea", "application/sea")
        put("sea", "application/x-sea")
        put("set", "application/set")
        put("sgm", "text/sgml")
        put("sgm", "text/x-sgml")
        put("sgml", "text/sgml")
        put("sgml", "text/x-sgml")
        put("sh", "application/x-bsh")
        put("sh", "application/x-sh")
        put("sh", "application/x-shar")
        put("sh", "text/x-scriptsh")
        put("shar", "application/x-bsh")
        put("shar", "application/x-shar")
        put("shtml", "text/html")
        put("shtml", "text/x-server-parsed-html")
        put("sid", "audio/x-psid")
        put("sit", "application/x-sit")
        put("sit", "application/x-stuffit")
        put("skd", "application/x-koan")
        put("skm", "application/x-koan")
        put("skp", "application/x-koan")
        put("skt", "application/x-koan")
        put("sl", "application/x-seelogo")
        put("smi", "application/smil")
        put("smil", "application/smil")
        put("snd", "audio/basic")
        put("snd", "audio/x-adpcm")
        put("sol", "application/solids")
        put("spc", "application/x-pkcs7-certificates")
        put("spc", "text/x-speech")
        put("spl", "application/futuresplash")
        put("spr", "application/x-sprite")
        put("sprite", "application/x-sprite")
        put("src", "application/x-wais-source")
        put("ssi", "text/x-server-parsed-html")
        put("ssm", "application/streamingmedia")
        put("sst", "application/vndms-pkicertstore")
        put("step", "application/step")
        put("stl", "application/sla")
        put("stl", "application/vndms-pkistl")
        put("stl", "application/x-navistyle")
        put("stp", "application/step")
        put("sv4cpio", "application/x-sv4cpio")
        put("sv4crc", "application/x-sv4crc")
        put("svf", "image/vnddwg")
        put("svf", "image/x-dwg")
        put("svr", "application/x-world")
        put("svr", "x-world/x-svr")
        put("swf", "application/x-shockwave-flash")
        put("t", "application/x-troff")
        put("talk", "text/x-speech")
        put("tar", "application/x-tar")
        put("tbk", "application/toolbook")
        put("tbk", "application/x-tbook")
        put("tcl", "application/x-tcl")
        put("tcl", "text/x-scripttcl")
        put("tcsh", "text/x-scripttcsh")
        put("tex", "application/x-tex")
        put("texi", "application/x-texinfo")
        put("texinfo", "application/x-texinfo")
        put("text", "text/plain")
        put("tgz", "application/gnutar")
        put("tgz", "application/x-compressed")
        put("tif", "image/tiff")
        put("tif", "image/x-tiff")
        put("tiff", "image/tiff")
        put("tiff", "image/x-tiff")
        put("tr", "application/x-troff")
        put("tsi", "audio/tsp-audio")
        put("tsp", "application/dsptype")
        put("tsp", "audio/tsplayer")
        put("tsv", "text/tab-separated-values")
        put("turbot", "image/florian")
        put("txt", "text/plain")
        put("uil", "text/x-uil")
        put("uni", "text/uri-list")
        put("unis", "text/uri-list")
        put("unv", "application/i-deas")
        put("uri", "text/uri-list")
        put("uris", "text/uri-list")
        put("ustar", "application/x-ustar")
        put("ustar", "multipart/x-ustar")
        put("uu", "application/octet-stream")
        put("uu", "text/x-uuencode")
        put("uue", "text/x-uuencode")
        put("vcd", "application/x-cdlink")
        put("vcs", "text/x-vcalendar")
        put("vda", "application/vda")
        put("vdo", "video/vdo")
        put("vew", "application/groupwise")
        put("viv", "video/vivo")
        put("viv", "video/vndvivo")
        put("vivo", "video/vivo")
        put("vivo", "video/vndvivo")
        put("vmd", "application/vocaltec-media-desc")
        put("vmf", "application/vocaltec-media-file")
        put("voc", "audio/voc")
        put("voc", "audio/x-voc")
        put("vos", "video/vosaic")
        put("vox", "audio/voxware")
        put("vqe", "audio/x-twinvq-plugin")
        put("vqf", "audio/x-twinvq")
        put("vql", "audio/x-twinvq-plugin")
        put("vrml", "application/x-vrml")
        put("vrml", "model/vrml")
        put("vrml", "x-world/x-vrml")
        put("vrt", "x-world/x-vrt")
        put("vsd", "application/x-visio")
        put("vst", "application/x-visio")
        put("vsw", "application/x-visio")
        put("w60", "application/wordperfect60")
        put("w61", "application/wordperfect61")
        put("w6w", "application/msword")
        put("wav", "audio/wav")
        put("wav", "audio/x-wav")
        put("wb1", "application/x-qpro")
        put("wbmp", "image/vndwapwbmp")
        put("web", "application/vndxara")
        put("wiz", "application/msword")
        put("wk1", "application/x-123")
        put("wmf", "windows/metafile")
        put("wml", "text/vndwapwml")
        put("wmlc", "application/vndwapwmlc")
        put("wmls", "text/vndwapwmlscript")
        put("wmlsc", "application/vndwapwmlscriptc")
        put(".wmv", "video/x-ms-wmv")
        put("word", "application/msword")
        put("wp", "application/wordperfect")
        put("wp5", "application/wordperfect")
        put("wp5", "application/wordperfect60")
        put("wp6", "application/wordperfect")
        put("wpd", "application/wordperfect")
        put("wpd", "application/x-wpwin")
        put("wq1", "application/x-lotus")
        put("wri", "application/mswrite")
        put("wri", "application/x-wri")
        put("wrl", "application/x-world")
        put("wrl", "model/vrml")
        put("wrl", "x-world/x-vrml")
        put("wrz", "model/vrml")
        put("wrz", "x-world/x-vrml")
        put("wsc", "text/scriplet")
        put("wsrc", "application/x-wais-source")
        put("webm", "video/webm")
        put("wtk", "application/x-wintalk")
        put("xbm", "image/x-xbitmap")
        put("xbm", "image/x-xbm")
        put("xbm", "image/xbm")
        put("xdr", "video/x-amt-demorun")
        put("xgz", "xgl/drawing")
        put("xif", "image/vndxiff")
        put("xl", "application/excel")
        put("xla", "application/excel")
        put("xla", "application/x-excel")
        put("xla", "application/x-msexcel")
        put("xlb", "application/excel")
        put("xlb", "application/vndms-excel")
        put("xlb", "application/x-excel")
        put("xlc", "application/excel")
        put("xlc", "application/vndms-excel")
        put("xlc", "application/x-excel")
        put("xld", "application/excel")
        put("xld", "application/x-excel")
        put("xlk", "application/excel")
        put("xll", "application/excel")
        put("xlm", "application/excel")
        put("xls", "application/excel")
        put("xlt", "application/excel")
        put("xlv", "application/excel")
        put("xlw", "application/excel")
        put("xm", "audio/xm")
        put("xml", "text/xml")
        put("xmz", "xgl/movie")
        put("xpix", "application/x-vndls-xpix")
        put("xpm", "image/xpm")
        put("x-png", "image/png")
        put("xsr", "video/x-amt-showrun")
        put("xwd", "image/x-xwd")
        put("xwd", "image/x-xwindowdump")
        put("xyz", "chemical/x-pdb")
        put("z", "application/x-compress")
        put("z", "application/x-compressed")
        put("zip", "application/zip")
        put("zip", "multipart/x-zip")
        put("zoo", "application/octet-stream")
        put("zsh", "text/x-scriptzsh")
    }

    fun getMimeType(filePath: String): String {
        val extension = getExtension(filePath)
        return if (extension != null) {
            val mimeType = map[extension]
            mimeType ?: "application/octet-stream"
        } else {
            "application/octet-stream"
        }
    }

    fun getMimeType(url: URL): String? {
        return getMimeType(File(url.file))
    }

    private fun getExtension(file: File): String? {
        val name = file.name
        val i = name.lastIndexOf(".")
        return if (i > 0) {
            name.substring(i + 1)
        } else {
            null
        }
    }

    private fun getExtension(name: String): String? {
        val i = name.lastIndexOf(".")
        return if (i > 0) {
            name.substring(i + 1)
        } else {
            null
        }
    }

    fun addMimeType(extension: String, mimeType: String) {
        map[extension] = mimeType
    }

    fun getMimeType(file: File): String {
        val i = file.name.lastIndexOf(".")
        return if (i > 0) {
            val extension = getExtension(file)
            if (extension != null) {
                val mimeType = map[extension]
                mimeType ?: "application/octet-stream"
            } else {
                "application/octet-stream"
            }
        } else {
            "application/octet-stream"
        }
    }
}